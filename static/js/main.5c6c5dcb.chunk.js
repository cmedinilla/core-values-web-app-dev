(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(23).concat([function(e,t,a){e.exports=a.p+"static/media/BEINSERVICE.83d01b12.svg"},,,,,,,,function(e,t,a){e.exports=a.p+"static/media/BEAUTHENTIC.e3c63312.svg"},function(e,t,a){e.exports=a.p+"static/media/BEACCOUNTABLE.39d5e053.svg"},function(e,t,a){e.exports=a.p+"static/media/BRINGEXCELLENCE.e9aef989.svg"},,,,,,,,,,,,function(e,t,a){},,,function(e,t,a){e.exports=a.p+"static/media/loader.21047612.gif"},function(e,t,a){e.exports=a.p+"static/media/noGiven.2dc61666.svg"},function(e,t,a){e.exports=a.p+"static/media/noReceived.62b7080d.svg"},function(e,t,a){e.exports=a.p+"static/media/blue.30039c1c.svg"},function(e,t,a){e.exports=a.p+"static/media/bronze.4a108c64.svg"},function(e,t,a){e.exports=a.p+"static/media/silver.cadeae2c.svg"},function(e,t,a){e.exports=a.p+"static/media/gold.e860956a.svg"},function(e,t,a){e.exports=a.p+"static/media/platinum.b4c51430.svg"},function(e,t,a){e.exports=a.p+"static/media/contributor.bfe323ef.svg"},function(e,t,a){e.exports=a.p+"static/media/cheerleader.8a250072.svg"},function(e,t,a){e.exports=a.p+"static/media/coach.75130d5b.svg"},function(e,t,a){e.exports=a.p+"static/media/captain.71e809e0.svg"},function(e,t,a){e.exports=a.p+"static/media/champion.1a818921.svg"},function(e,t,a){e.exports=a.p+"static/media/club.674f5be0.svg"},function(e,t,a){e.exports=a.p+"static/media/diamond.d819b514.svg"},function(e,t,a){e.exports=a.p+"static/media/novice.525bcd17.svg"},function(e,t,a){e.exports=a.p+"static/media/ace.4b874836.svg"},function(e,t,a){e.exports=a.p+"static/media/star.bf7752b6.svg"},function(e,t,a){e.exports=a.p+"static/media/medalGray.3824d0c5.png"},function(e,t,a){e.exports=a.p+"static/media/intersys-logo.651d5495.svg"},function(e,t,a){e.exports=a.p+"static/media/austin.caf61104.jpg"},function(e,t,a){e.exports=a.p+"static/media/phoenix.3b25b754.jpg"},function(e,t,a){e.exports=a.p+"static/media/gdl.91d96acd.jpg"},function(e,t,a){e.exports=a.p+"static/media/ny.1d842d6f.jpeg"},,,function(e,t,a){e.exports=a(140)},,,,,,,,,,,,,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(37),i=a.n(o),s=a(17),l=a(18),c=a(15),m=a(27),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1?arguments[1]:void 0;return"function"===typeof e[n.type]?e[n.type](a,n):a}},d={USER_LOGGED:"USER_LOGGED"},h={userLogged:function(){return{type:d.USER_LOGGED}}},p=Object(m.a)({},d,h),g={isUserLogged:-1!==document.cookie.indexOf("login=")},v=u(Object(c.a)({},p.USER_LOGGED,function(e){return Object(m.a)({},e,{isUserLogged:!0})}),g),f=Object(s.b)({login:v}),E=a(4),b=a(5),y=a(7),N=a(6),w=a(9),C=a(8),k=a(11),O=a.n(k),j=a(144),R=a(146),S=a(143),x=function(){return-1===document.cookie.indexOf("login=")?fetch("".concat("https://core-values-web-backend-dev.herokuapp.com","/auth/"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){return window.location.href=e.authurl}).catch(function(e){return console.log("Error trying to log, please try again",e)}):null},D=a(14),M=a.n(D),B=a(145),L=a(48),F=a.n(L),I=(a(90),function(e){function t(e){return Object(E.a)(this,t),Object(y.a)(this,Object(N.a)(t).call(this,e))}return Object(C.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("img",{src:F.a}))}},{key:"componentDidMount",value:function(){for(var e,t=this.props,a=t.location,n=t.actions.userLogged,r=a.search,o={},i=r.slice(r.indexOf("?")+1).split("&"),s=0;s<i.length;s++)"name"==(e=i[s].split("="))[0]?e[1]=decodeURI(e[1]):"email"==e[0]?e[1]=e[1].replace("%40","@"):"usertype"==e[0]&&(e[1]=decodeURI(e[1])),o[e[0]]=e[1];this.props.setCookie(o),n(),setTimeout(this.props.history.push("/"),1e4)}}]),t}(n.Component)),G=Object(B.a)(Object(l.b)(function(e){return{isUserLogged:e.login.isUserLogged}},function(e){return{actions:Object(s.a)(p,e),dispatch:e}})(I)),_=a(2),V=a(142);a(130);var A=a(49),T=a.n(A),U=a(50),Y=a.n(U),K=a(51),H=a.n(K),z=a(52),W=a.n(z),P=a(53),q=a.n(P),J=a(54),X=a.n(J),Z=a(55),$=a.n(Z),Q=a(56),ee=a.n(Q),te=a(57),ae=a.n(te),ne=a(58),re=a.n(ne),oe=a(59),ie=a.n(oe),se=a(60),le=a.n(se),ce={noGiven:T.a,noReceived:Y.a,blue:H.a,bronze:W.a,silver:q.a,gold:X.a,platinum:$.a,contributor:ee.a,cheerleader:ae.a,coach:re.a,captain:ie.a,champion:le.a},me=new M.a,ue=function(e){function t(){var e;return Object(E.a)(this,t),(e=Object(y.a)(this,Object(N.a)(t).call(this))).state={nominations:[],loaded:!1,badges:{awarded:{image_path:"",name:""},earned:{image_path:"",name:""}},nextBadges:{awarded:{count:0,next:""},earned:{count:0,next:""}}},e.getAwards=e.getAwards.bind(Object(w.a)(e)),e}return Object(C.a)(t,e),Object(b.a)(t,[{key:"getAwards",value:function(){var e=this;return fetch("".concat("https://core-values-web-backend-dev.herokuapp.com","/user/gamification/").concat(me.get("login").email),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){var a=t.badges.earned,n=a,r=o=t.badges.awarded,o=r,i=t.nextBadges.earned.next,s=t.nextBadges.earned.count,l=t.nextBadges.awarded.next,c=t.nextBadges.awarded.count,m=t.kudos;"Given"===e.props.type&&e.props.setKudos(m),""===n&&(n="noReceived"),""===o&&(o="noGiven"),e.setState({badges:{awarded:{image_path:ce[o],name:r},earned:{image_path:ce[n],name:a}},nextBadges:{awarded:{count:c,next:l},earned:{count:s,next:i}}})}).catch(function(e){console.log("No Awards Received")})}},{key:"componentDidMount",value:function(){var e,t=this;void 0!==me.get("login")&&("Given"===this.props.type?(e=me.get("login").email,fetch("".concat("https://core-values-web-backend-dev.herokuapp.com","/form/nominator/?name=").concat(e)).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return window.Materialize.toast(e,2e3)})).then(function(e){t.setState({nominations:e,loaded:!0})}):function(e){return fetch("".concat("https://core-values-web-backend-dev.herokuapp.com","/form/nominee/?name=").concat(e)).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return window.Materialize.toast(e,2e3)})}(me.get("login").email).then(function(e){t.setState({nominations:e,loaded:!0})})),this.getAwards()}},{key:"render",value:function(){var e,t=this.state.nominations,a=this.state.badges.awarded,n=this.state.badges.earned,o=this.state.nextBadges.awarded,i=this.state.nextBadges.earned,s="";return"Given"===this.props.type?(e=a,s=o):(e=n,s=i),!1===this.state.loaded?r.a.createElement("div",null,r.a.createElement(_.ProgressBar,null)):r.a.createElement("div",{class:"wrapper medal-wrapper"},r.a.createElement("div",{className:"medal "+this.props.type.toLocaleLowerCase()+"_medal"},r.a.createElement("h1",null,"Awards ",this.props.type,": ",r.a.createElement("span",{className:"number"},t.length)),r.a.createElement("img",{src:e.image_path})),r.a.createElement("div",{class:"tooltip"},r.a.createElement("div",{className:"medal_tooltip"},r.a.createElement("p",{className:"text"},""!==e.name?"You currently earned a":""),r.a.createElement("p",{className:"level"},""!==e.name?e.name+" badge":""),r.a.createElement("p",{className:"number"},0!==s.count?s.count:""),r.a.createElement("p",{className:"text"},s.count>1?"more nominations to":0!==s.count?"more nomination to":"the highest level, Congratulations!"),r.a.createElement("p",{className:"levelNext"},0!==s.count?s.next+" badge":""))))}}]),t}(n.Component),de=(a(131),a(61)),he=a.n(de),pe=a(62),ge=a.n(pe),ve=a(63),fe=a.n(ve),Ee=a(64),be=a.n(Ee),ye=a(65),Ne=a.n(ye),we=new M.a,Ce=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(N.a)(t).call(this,e))).state={kudos:[],loaded:!1},a.formStatus=a.formStatus.bind(Object(w.a)(a)),a.setKudos=a.setKudos.bind(Object(w.a)(a)),a.getKudosBadges=a.getKudosBadges.bind(Object(w.a)(a)),a.kudosLoad=a.kudosLoad.bind(Object(w.a)(a)),a}return Object(C.a)(t,e),Object(b.a)(t,[{key:"componentWillMount",value:function(){we.get("login"),this.formStatus()}},{key:"formStatus",value:function(){if(this.props.nominationSuccess)return window.Materialize.toast('Your Nomination has been <span>successfully sent</span><i class="material-icons">check</i>',3e3,"msgToast")}},{key:"setKudos",value:function(e){this.setState({kudos:e,loaded:!0})}},{key:"getKudosBadges",value:function(e){if(-1===this.state.kudos.indexOf(e))return"badge-disabled"}},{key:"kudosLoad",value:function(){if(!1!==this.state.loaded)return r.a.createElement(_.Row,{className:"home_kudos"},r.a.createElement(_.Col,{className:"badges"},r.a.createElement("h3",null,"My Kudos Badges"),r.a.createElement("div",{class:"wrapper"},r.a.createElement("img",{src:be.a,className:this.getKudosBadges("ace")}),r.a.createElement("div",{class:"tooltip"},r.a.createElement("span",null,"CVA Received:")," Receive 1 nomination")),r.a.createElement("div",{class:"wrapper"},r.a.createElement("img",{src:fe.a,className:this.getKudosBadges("novice")}),r.a.createElement("div",{class:"tooltip"},r.a.createElement("span",null,"Novice Nominator:")," Make 1 nomination")),r.a.createElement("div",{class:"wrapper"},r.a.createElement("img",{src:he.a,className:this.getKudosBadges("club")}),r.a.createElement("div",{class:"tooltip"},r.a.createElement("span",null,"Club:")," 3 awards for the same value")),r.a.createElement("div",{class:"wrapper"},r.a.createElement("img",{src:Ne.a,className:this.getKudosBadges("star")}),r.a.createElement("div",{class:"tooltip"},r.a.createElement("span",null,"Super Star:")," 5 awards for the same value")),r.a.createElement("div",{class:"wrapper"},r.a.createElement("img",{src:ge.a,className:this.getKudosBadges("diamond")}),r.a.createElement("div",{class:"tooltip"},r.a.createElement("span",null,"Diamond:")," Earn all 4 Core Values"))))}},{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement(_.Row,{className:"home_header"},r.a.createElement(_.Col,{s:12},r.a.createElement("h1",null,"Intersys ",r.a.createElement("span",null,"Core Values")," Awards")),r.a.createElement(_.Col,{s:12},r.a.createElement(V.a,{to:"/nominate"},r.a.createElement(_.Button,{waves:"light"},"Nominate Now")))),r.a.createElement(_.Row,{className:"home_content"},r.a.createElement(_.Col,{className:"medals"},r.a.createElement(ue,{setKudos:this.setKudos,type:"Given"}),r.a.createElement(ue,{type:"Received"}))),this.kudosLoad())}}]),t}(n.Component),ke=a(73),Oe=function(e){var t=e.divider,a=e.children,n=e.href,o=void 0===n?"":n,i=e.onClick,s=Object(ke.a)(e,["divider","children","href","onClick"]);if(t)return r.a.createElement("li",{className:"divider"});var l=i?r.a.createElement("a",{onClick:i},a):r.a.createElement(V.a,{to:o},a);return r.a.createElement("li",s,l)},je=(a(132),a(23)),Re=a.n(je),Se=a(31),xe=a.n(Se),De=a(32),Me=a.n(De),Be=a(33),Le=a.n(Be),Fe=a(66),Ie=a.n(Fe),Ge=(new Date).getFullYear(),_e=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(N.a)(t).call(this,e))).getCoreValue=a.getCoreValue.bind(Object(w.a)(a)),a}return Object(C.a)(t,e),Object(b.a)(t,[{key:"getCoreValue",value:function(e){switch(e){case"beaccountable":return Me.a;case"beauthentic":return xe.a;case"beinservice":return Re.a;case"bringexcellence":return Le.a;default:return Re.a}}},{key:"getDiploma",value:function(e,t){var a="".concat("https://core-values-web-backend-dev.herokuapp.com","/form/diploma/").concat(t);if("Received"===this.props.type)return"th"===e?r.a.createElement("th",{className:"diploma","data-field":"diploma"},"Diploma"):r.a.createElement("td",{className:"diploma"},r.a.createElement("a",{href:a},r.a.createElement("i",{class:"material-icons"},"movie_filter")))}},{key:"render",value:function(){var e=this;return 0===this.props.awards.length?r.a.createElement("div",{className:"no_awards"},"Given"===this.props.type?r.a.createElement("h2",null,"\ud83d\ude14 No Awards given yet for ",r.a.createElement("span",null,Ge)):r.a.createElement("h2",null,"\ud83d\ude14 No Awards received yet for ",r.a.createElement("span",null,Ge)),r.a.createElement("img",{src:Ie.a,alt:"medal"})):r.a.createElement("div",null,r.a.createElement(_.Table,{className:"my_activity"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"date","data-field":"date"},"Date"),"Given"===this.props.type?r.a.createElement("th",{className:"name","data-field":"name"},"Nominee"):r.a.createElement("th",{"data-field":"name"},"Nominator"),r.a.createElement("th",{className:"value","data-field":"value"},"Value"),r.a.createElement("th",{className:"reason","data-field":"reason"},"Reason"),this.getDiploma("th"))),r.a.createElement("tbody",null,this.props&&this.props.awards&&this.props.awards.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",{className:"date"},O()(new Date(t.nomination.date)).format("MMMM Do, YYYY")),"Given"===e.props.type?r.a.createElement("td",{className:"name"},t.nomination.nomineeInfo.name.displayName):r.a.createElement("td",{className:"name"},t.nomination.nominatorInfo.name.displayName),r.a.createElement("td",{className:"value"},r.a.createElement("img",{className:"core_value",alt:t.nomination.awardInfo.coreValue,src:e.getCoreValue(t.nomination.awardInfo.coreValue)})),r.a.createElement("td",{className:"reason"},t.nomination.awardInfo.reason),e.getDiploma("td",t._id))}))))}}]),t}(n.Component),Ve=(a(133),function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement(_.Row,{className:"tabs-container"},r.a.createElement(_.Col,{s:12,m:12},r.a.createElement(_.Tabs,{className:"z-depth-1 awards-tabs"},r.a.createElement(_.Tab,{title:"Given",active:!0},r.a.createElement(_.Row,{className:"tab-container"},r.a.createElement(_.Col,{s:12,m:12},r.a.createElement(_e,{awards:this.props.sent,type:"Given"})))),r.a.createElement(_.Tab,{title:"Received"},r.a.createElement(_.Row,{className:"tab-container"},r.a.createElement(_.Col,{s:12,m:12},r.a.createElement(_e,{awards:this.props.received,type:"Received"})))))))}}]),t}(n.Component)),Ae=(a(45),new M.a),Te=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(N.a)(t).call(this,e))).state={nominations_sent:[],nominations_received:[],page_loaded:!1},a.fetchData=a.fetchData.bind(Object(w.a)(a)),a.clearData=a.clearData.bind(Object(w.a)(a)),a}return Object(C.a)(t,e),Object(b.a)(t,[{key:"fetchData",value:function(){var e=this;fetch("".concat("https://core-values-web-backend-dev.herokuapp.com","/form")).then(function(e){return e.json()}).then(function(t){var a=t.filter(function(e){return e.nomination.nomineeInfo.name.email==Ae.get("login").email}),n=t.filter(function(e){return e.nomination.nominatorInfo.name.email==Ae.get("login").email});e.setState({nominations_received:a,nominations_sent:n,page_loaded:!0})})}},{key:"clearData",value:function(){this.setState({nominations_sent:[],nominations_received:[],page_loaded:!1})}},{key:"render",value:function(){var e=this.state,t=e.page_loaded,a=e.nominations_sent,n=e.nominations_received;return r.a.createElement(_.Modal,{id:"awardModal",header:"Awards",modalOptions:{ready:this.fetchData,complete:this.clearData},trigger:r.a.createElement(Oe,null,"My Activity")},t?r.a.createElement(Ve,{sent:a,received:n}):r.a.createElement(_.Row,null," ",r.a.createElement(_.Col,{s:12}," ",r.a.createElement(_.ProgressBar,null)," ")," "))}}]),t}(n.Component),Ue=a(67),Ye=a.n(Ue),Ke=new M.a,He=function(e){function t(e){return Object(E.a)(this,t),Object(y.a)(this,Object(N.a)(t).call(this,e))}return Object(C.a)(t,e),Object(b.a)(t,[{key:"isUserAdmin",value:function(){return Ke.get("login")&&"admin"===Ke.get("login").usertype?r.a.createElement(Oe,{href:"/stats"},"Stats"):null}},{key:"signOutSession",value:function(e){e.preventDefault(),Ke.remove("login",{path:"/"}),x()}},{key:"render",value:function(){var e=this.props.isUserLogged,t=r.a.createElement(V.a,{to:"/"},r.a.createElement("img",{href:"/",className:"logo",src:Ye.a}));return e?r.a.createElement(_.Navbar,{brand:t,right:!0,className:"navbar-intersys"},r.a.createElement(Oe,{href:"/"},r.a.createElement(_.Icon,null,"home")),r.a.createElement(Oe,{href:"/nominate"},"Nominate"),r.a.createElement(Te,null),this.isUserAdmin(),r.a.createElement(_.Dropdown,{trigger:r.a.createElement(Oe,{className:"session-menu"},Ke.get("login")&&Ke.get("login").name,r.a.createElement("i",{class:"material-icons right"},"keyboard_arrow_down"))},r.a.createElement("li",{className:"help"},r.a.createElement("a",{href:"https://intersysconsulting.slack.com/app_redirect?channel=recognition-app-help",target:"_blank"},"help",r.a.createElement("i",{class:"material-icons right"},"help"))),r.a.createElement("li",{class:"sign-out",onClick:this.signOutSession},r.a.createElement("p",null,"Sign Out ",r.a.createElement("i",{class:"material-icons right"},"power_settings_new"))))):null}}]),t}(n.Component),ze=Object(l.b)(function(e){return{isUserLogged:e.login.isUserLogged}},null)(He),We=(a(134),a(68)),Pe=a.n(We),qe=a(69),Je=a.n(qe),Xe=a(70),Ze=a.n(Xe),$e=a(71),Qe=a.n($e),et=new M.a,tt=function(e){function t(){var e;return Object(E.a)(this,t),(e=Object(y.a)(this,Object(N.a)(t).call(this))).state={corevalue:"beaccountable",nomineeName:"",reason:"",nomineeManager:"",nomineeCity:"central",sendingForm:!1,errors:{errorNomineeEmail:null,errorNomineeManager:null,errorReason:"This field can not be empty",formError:!0},valueSelection:{beaccountable:" intersysValue valueSelected",beauthentic:" intersysValue nonSelected",beinservice:" intersysValue nonSelected",bringexcellence:" intersysValue nonSelected"}},e.sendForm=e.sendForm.bind(Object(w.a)(e)),e}return Object(C.a)(t,e),Object(b.a)(t,[{key:"componentWillMount",value:function(){void 0===et.get("login")&&x(),this.props.formStatus(!1)}},{key:"handleChange",value:function(e){e.preventDefault(),this.setState(Object(c.a)({},e.target.id,e.target.value)),"corevalue"===e.target.id&&this.selectValue(e.target.value)}},{key:"selectValue",value:function(e){this.setState({valueSelection:Object(c.a)({beaccountable:" intersysValue nonSelected",beauthentic:" intersysValue nonSelected",beinservice:" intersysValue  nonSelected",bringexcellence:" intersysValue  nonSelected"},e," intersysValue valueSelected")})}},{key:"handleBlur",value:function(e){var t,a=this,n=e.target.id;if("nomineeName"===n||"nomineeManager"===n){switch(n){case"nomineeName":t="errorNomineeEmail";break;case"nomineeManager":t="errorNomineeManager"}this.validateEmail(e.target.value).then(function(e){var r,o;200===e.status?("nomineeName"===n&&e.json().then(function(e){var t=e.managerEmail,n=e.location;t=null===t||"null"===t?"":t.split("@")[0],n=a.mapLocation(n),a.setState({nomineeManager:t,nomineeCity:n})}),a.setState({errors:(r={errorNomineeEmail:a.state.errors.errorNomineeEmail,errorNomineeManager:a.state.errors.errorNomineeManager,errorReason:a.state.errors.errorReason},Object(c.a)(r,t,""),Object(c.a)(r,"formError",a.state.errors.formError),r)}),a.validateForm()):(a.setState({errors:(o={errorNomineeEmail:a.state.errors.errorNomineeEmail,errorNomineeManager:a.state.errors.errorNomineeManager,errorReason:a.state.errors.errorReason},Object(c.a)(o,t,"Error: Email Not Found In Intersys ORG"),Object(c.a)(o,"formError",a.state.errors.formError),o)}),a.validateForm())}).catch(function(e){var n;a.setState({errors:(n={errorNomineeEmail:a.state.errors.errorNomineeEmail,errorNomineeManager:a.state.errors.errorNomineeManager,errorReason:a.state.errors.errorReason},Object(c.a)(n,t,"Error: Email Not Found In Intersys ORG"),Object(c.a)(n,"formError",a.state.errors.formError),n)}),a.validateForm()})}else{var r;if("reason"===n)if(null!==this.state.reason&&""!==this.state.reason&&this.state.reason.length>=5)this.setState({errors:{errorNomineeEmail:this.state.errors.errorNomineeEmail,errorNomineeManager:this.state.errors.errorNomineeManager,errorReason:"",formError:this.state.errors.formError}},this.validateForm);else r=0===this.state.reason.length?"This field can not be empty":"minimun lenght is 5 characters",this.setState({errors:{errorNomineeEmail:this.state.errors.errorNomineeEmail,errorNomineeManager:this.state.errors.errorNomineeManager,errorReason:r,formError:this.state.errors.formError}},this.validateForm)}}},{key:"mapLocation",value:function(e){return e?"Mexico Delivery Center"===e?"MDC":e.toLowerCase():"central"}},{key:"validateEmail",value:function(e){var t="".concat(e,"@intersysconsulting.com");return fetch("".concat("https://core-values-web-backend-dev.herokuapp.com","/user/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(et.get("login").token)},mode:"cors"})}},{key:"validateForm",value:function(){return this.state.errors.errorNomineeEmail||this.state.errors.errorReason||this.state.errors.errorNomineeManager?this.setState({errors:{errorNomineeEmail:this.state.errors.errorNomineeEmail,errorNomineeManager:this.state.errors.errorNomineeManager,errorReason:this.state.errors.errorReason,formError:!0}}):this.setState({errors:{errorNomineeEmail:this.state.errors.errorNomineeEmail,errorNomineeManager:this.state.errors.errorNomineeManager,errorReason:this.state.errors.errorReason,formError:!1}}),this.state.errors.formError}},{key:"sendForm",value:function(e){var t=this;if(this.state.formError)window.Materialize.toast('Your form has some errors and must be fixed to continue<i class="material-icons">close</i>',5e3,"msgToast");else if(!this.validateForm()){this.setState({sendingForm:!0});var a=e.target.id;return fetch("".concat("https://core-values-web-backend-dev.herokuapp.com","/form"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(et.get("login").token)},body:JSON.stringify({nomination:{awardInfo:{coreValue:this.state.corevalue,reason:this.state.reason},nomineeInfo:{name:this.state.nomineeName+"@intersysconsulting.com",manager:this.state.nomineeManager+"@intersysconsulting.com",city:this.state.nomineeCity}}}),mode:"cors"}).then(function(e){418===e.status&&window.Materialize.toast('<span>You can not nominate yourself</span>, please try with other email<i class="material-icons">close</i>',3e3,"errorToast"),200===e.status&&("send"===a?(t.props.formStatus(!0),t.props.history.push("/")):(window.Materialize.toast('Your Nomination has been <span>successfully sent</span><i class="material-icons">check</i>',3e3,"msgToast"),t.setState({corevalue:"beaccountable",nomineeName:"",reason:"",nomineeManager:"",nomineeCity:"central",sendingForm:!1,errors:{errorNomineeEmail:null,errorNomineeManager:null,errorReason:"This field can not be empty",formError:!0},valueSelection:{beaccountable:" intersysValue valueSelected",beauthentic:" intersysValue nonSelected",beinservice:" intersysValue nonSelected",bringexcellence:" intersysValue nonSelected"}})))}).catch(function(e){console.log("Error sending form to server, please try again")})}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_.Row,{className:"nominationHeader"},r.a.createElement(_.Col,{s:12},r.a.createElement("h1",null,"New Nomination"))),r.a.createElement("div",{className:"container nomination"},r.a.createElement(_.Row,null,r.a.createElement(_.Col,{s:12},r.a.createElement("p",{className:"valueTitle"},"Choose a Value")),r.a.createElement(_.Col,{s:12},r.a.createElement(_.Button,{id:"corevalue",value:"beaccountable",className:"beacountable"+this.state.valueSelection.beaccountable,waves:"light",onClick:this.handleChange.bind(this)},"Be Accountable"),r.a.createElement(_.Button,{id:"corevalue",value:"beauthentic",className:"beauthentic"+this.state.valueSelection.beauthentic,waves:"light",onClick:this.handleChange.bind(this)},"Be Authentic"),r.a.createElement(_.Button,{id:"corevalue",value:"beinservice",className:"beinservice"+this.state.valueSelection.beinservice,waves:"light",onClick:this.handleChange.bind(this)},"Be In Service To Others"),r.a.createElement(_.Button,{id:"corevalue",value:"bringexcellence",className:"bringexcellence"+this.state.valueSelection.bringexcellence,waves:"light",onClick:this.handleChange.bind(this)},"Bring Excellence"))),r.a.createElement(_.Row,{className:"nominationForm"},r.a.createElement(_.Col,{s:12},r.a.createElement("h1",null,"Nominee Info")),r.a.createElement(_.Col,{s:12,m:6,l:6},r.a.createElement(_.Input,{s:12,id:"nomineeName",placeholder:"email",error:this.state.errors.errorNomineeEmail,label:"Nominee Email*",type:"text",value:this.state.nomineeName,onBlur:this.handleBlur.bind(this),onChange:this.handleChange.bind(this)},r.a.createElement("span",null,"@intersysconsulting.com"))),r.a.createElement(_.Col,{s:12,m:5,l:5,offset:"m1 l1"},r.a.createElement(_.Input,{s:12,id:"nomineeCity",disabled:!0,label:"Nominee Region",type:"select",value:this.state.nomineeCity,onChange:this.handleChange.bind(this)},r.a.createElement("option",{value:"central","data-icon":Pe.a},"Central"),r.a.createElement("option",{value:"east","data-icon":Qe.a},"East"),r.a.createElement("option",{value:"west","data-icon":Je.a},"West"),r.a.createElement("option",{value:"MDC","data-icon":Ze.a},"MDC"))),r.a.createElement(_.Col,{s:12,m:12,l:12},r.a.createElement(_.Input,{s:12,id:"reason",label:"Reason of Nomination*",type:"textarea",error:this.state.errors.errorReason,value:this.state.reason,maxLength:"280",onBlur:this.handleBlur.bind(this),onChange:this.handleChange.bind(this)})),r.a.createElement(_.Col,{s:12,m:6,l:6},r.a.createElement(_.Input,{s:12,id:"nomineeManager",disabled:!0,placeholder:"email",label:"Manager Email*",error:this.state.errors.errorNomineeManager,value:this.state.nomineeManager,type:"text",onBlur:this.handleBlur.bind(this),onChange:this.handleChange.bind(this)},r.a.createElement("span",null,"@intersysconsulting.com")))),r.a.createElement(_.Row,{className:"nominationFormButtons"},r.a.createElement(_.Col,{s:12},r.a.createElement(_.Button,{waves:"light",className:"sendClearButton",disabled:this.state.errors.formError||this.state.sendingForm,id:"continue",onClick:this.sendForm},"Sumbit & Add More Nominations"),r.a.createElement(_.Button,{waves:"light",className:"sendButton",disabled:this.state.errors.formError||this.state.sendingForm,id:"send",onClick:this.sendForm},"Submit")))))}}]),t}(n.Component),at=Object(B.a)(tt),nt=(a(135),function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(N.a)(t).call(this,e))).state={initialDate:a.props.data.initialDate,finalDate:a.props.data.finalDate,cityGiven:a.props.data.cityGiven,cityReceived:a.props.data.cityReceived,managerGiven:a.props.data.managerGiven,managerReceived:a.props.data.managerReceived,corevalue:a.props.data.corevalue},a}return Object(C.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data,a=t.initialDate,n=t.finalDate,o=t.cityGiven,i=t.cityReceived,s=t.managerGiven,l=t.managerReceived,c=t.corevalue;return r.a.createElement("div",null,r.a.createElement(_.Row,{className:"filters"},r.a.createElement(_.Col,{s:12},r.a.createElement("h1",null,"Filters")),r.a.createElement(_.Row,{className:"rangeValues"},r.a.createElement(_.Col,{s:12},r.a.createElement("h2",null,"Date")),r.a.createElement(_.Col,{s:12},r.a.createElement("h6",{s:2,className:"rangeLabel"},"From"),r.a.createElement(_.Input,{s:10,name:"on",type:"date",className:"datepicker",placeholder:a,value:a,onChange:function(t){return e.props.dataRangeChange(t,"Initial")}})),r.a.createElement(_.Col,{s:12},r.a.createElement("h6",{s:2,className:"rangeLabel"},"To"),r.a.createElement(_.Input,{s:10,name:"on",type:"date",className:"datepicker",placeholder:n,value:n,onChange:function(t){return e.props.dataRangeChange(t,"Final")}}))),r.a.createElement(_.Row,null,r.a.createElement(_.Col,{s:12,className:"selectFilter"},r.a.createElement(_.Input,{s:12,label:"From Region",type:"select",value:o,onChange:function(t){return e.props.filterChange(t,"cityGiven")}},r.a.createElement("option",{value:""},"All Business Regions"),r.a.createElement("option",{value:"central"},"Central"),r.a.createElement("option",{value:"east"},"East"),r.a.createElement("option",{value:"west"},"West"),r.a.createElement("option",{value:"mdc"},"MDC")))),r.a.createElement(_.Row,null,r.a.createElement(_.Col,{s:12,className:"selectFilter"},r.a.createElement(_.Input,{s:12,label:"To City",type:"select",value:i,onChange:function(t){return e.props.filterChange(t,"cityReceived")}},r.a.createElement("option",{value:""},"All Business Regions"),r.a.createElement("option",{value:"central"},"Central"),r.a.createElement("option",{value:"east"},"East"),r.a.createElement("option",{value:"west"},"West"),r.a.createElement("option",{value:"mdc"},"MDC")))),r.a.createElement(_.Row,null,r.a.createElement(_.Col,{s:12,className:"selectFilter"},r.a.createElement(_.Input,{s:12,label:"Intersys Values",type:"select",value:c,onChange:function(t){return e.props.filterChange(t,"corevalue")}},r.a.createElement("option",{value:""},"All Core Values"),r.a.createElement("option",{value:"beaccountable"},"Be Accountable"),r.a.createElement("option",{value:"beauthentic"},"Be Authentic"),r.a.createElement("option",{value:"beinservice"},"Be In Service To Others"),r.a.createElement("option",{value:"bringexcellence"},"Bring Excellence")))),r.a.createElement(_.Row,null,r.a.createElement(_.Col,{s:12,className:"selectFilter"},r.a.createElement(_.Input,{s:12,label:"Manager",type:"text",value:s,onChange:function(t){return e.props.filterChange(t,"managerGiven")}}))),r.a.createElement(_.Row,null,r.a.createElement(_.Col,{s:12,className:"selectFilter"},r.a.createElement(_.Input,{s:12,label:"Manager",type:"text",value:l,onChange:function(t){return e.props.filterChange(t,"managerReceived")}}))),r.a.createElement(_.Row,{className:"filtersButtons"},r.a.createElement(_.Col,{s:12},r.a.createElement(_.Button,{waves:"light",className:"clear",onClick:function(){return e.props.clearFilters()}},"Clear"),r.a.createElement(_.Button,{waves:"light",className:"apply",onClick:function(){return e.props.applyFilters()}},"Apply Filters")))))}}]),t}(n.Component)),rt=a(72),ot=(a(136),function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(N.a)(t).call(this,e))).state={data:a.props.data},a}return Object(C.a)(t,e),Object(b.a)(t,[{key:"getCoreValue",value:function(e){switch(e){case"beaccountable":return Me.a;case"beauthentic":return xe.a;case"beinservice":return Re.a;case"bringexcellence":return Le.a;default:return Re.a}}},{key:"render",value:function(){var e=this,t=this.state.data.map(function(t){return{date:O()(t.nomination.date).format("LL"),value:r.a.createElement("img",{className:"core-value-img",alt:t.nomination.awardInfo.coreValue,src:e.getCoreValue(t.nomination.awardInfo.coreValue)}),nominee:t.nomination.nomineeInfo.name.displayName,nominee_manager:t.nomination.nomineeInfo.manager.displayName,nominee_city:t.nomination.nomineeInfo.city,nominator:t.nomination.nominatorInfo.name.displayName,nominator_manager:t.nomination.nominatorInfo.manager.displayName,nominator_city:t.nomination.nominatorInfo.city}});return r.a.createElement(_.Row,{className:"reportTable"},r.a.createElement(_.Col,{s:12},r.a.createElement("h1",null,"Data")),r.a.createElement(rt.a,{data:t,columns:[{Header:"General",columns:[{Header:"Date",accessor:"date"},{Header:"Value",accessor:"value"}]},{Header:"Nominee Info",columns:[{Header:"Name",accessor:"nominee"},{Header:"Manager",accessor:"nominee_manager"},{Header:"Region",accessor:"nominee_city"}]},{Header:"Nominator Info",columns:[{Header:"Name",accessor:"nominator"},{Header:"Manager",accessor:"nominator_manager"},{Header:"Region",accessor:"nominator_city"}]}],defaultPageSize:10,showPageSizeOptions:!1,className:"-striped -highlight"}),r.a.createElement(_.Col,{s:12,className:"exportExcel"},r.a.createElement(_.Button,{waves:"light",node:"a",href:"https://core-values-web-backend-dev.herokuapp.com/stats/excel?"+this.props.query},"Export to Excel")))}}]),t}(n.Component)),it=(a(137),a(147)),st=new M.a;function lt(e){var t,a=O()().quarter(),n="",r="",o=(new Date).getFullYear();switch(a){case 1:n=O()(o+"-01-01").format("LL"),r=O()(o+"-03-31").format("LL");break;case 2:n=O()(o+"-04-01").format("LL"),r=O()(o+"-06-30").format("LL");break;case 3:n=O()(o+"-07-01").format("LL"),r=O()(o+"-09-30").format("LL");break;case 4:n=O()(o+"-10-01").format("LL"),r=O()(o+"-12-31").format("LL");break;default:console.log("Not valid date")}return t={initialDate:n,finalDate:r},"initialDate"===e?t.initialDate:"finalDate"===e?t.finalDate:void 0}var ct=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(N.a)(t).call(this,e))).state={initialDate:lt("initialDate"),finalDate:lt("finalDate"),cityGiven:"",cityReceived:"",managerGiven:"",managerReceived:"",corevalue:"",loaded:!1,data:[],query:""},a.dataRangeChange=a.dataRangeChange.bind(Object(w.a)(a)),a.filterChange=a.filterChange.bind(Object(w.a)(a)),a.clearFilters=a.clearFilters.bind(Object(w.a)(a)),a.applyFilters=a.applyFilters.bind(Object(w.a)(a)),a}return Object(C.a)(t,e),Object(b.a)(t,[{key:"dataRangeChange",value:function(e,t){e.preventDefault();var a=e.target.value;""!==a?((a=a.split(" "))[1]=a[1].slice(0,-1),a=a[1]+" "+a[0]+", "+a[2]):a="","Initial"===t?this.setState({initialDate:a}):"Final"===t&&this.setState({finalDate:a})}},{key:"filterChange",value:function(e,t){e.preventDefault();var a=e.target.value;switch(t){case"cityGiven":this.setState({cityGiven:a});break;case"cityReceived":this.setState({cityReceived:a});break;case"level":this.setState({level:a});break;case"managerGiven":this.setState({managerGiven:a});break;case"managerReceived":this.setState({managerReceived:a});break;case"corevalue":this.setState({corevalue:a});break;default:console.log("VALUE TYPE NOT RECOGNIZED \n","Type Received: "+t+"\n","Value Received: "+a)}}},{key:"clearFilters",value:function(){this.setState({initialDate:lt("initialDate"),finalDate:lt("finalDate"),cityGiven:"",cityReceived:"",managerGiven:"",managerReceived:"",corevalue:"",loaded:!1,data:[]}),this.applyFilters()}},{key:"applyFilters",value:function(){var e=this;this.setState({loaded:!1});var t=this.state,a=t.initialDate,n=t.finalDate,r=t.cityGiven,o=t.cityReceived,i=t.managerGiven,s=t.managerReceived,l=t.corevalue,c=(t.loaded,"");return""!==a&&(""!==c&&(c+="&"),c+="from="+O()(a).format("YYYY-MM-DD")),""!==n&&(""!==c&&(c+="&"),c+="to="+O()(n).format("YYYY-MM-DD")),""!==r&&(""!==c&&(c+="&"),c+="citygive="+r),""!=o&&(""!==c&&(c+="&"),c+="cityrec="+o),""!=i&&(""!==c&&(c+="&"),c+="managergive="+i),""!=s&&(""!==c&&(c+="&"),c+="managerrec="+s),""!=l&&(""!==c&&(c+="&"),c+="value="+l),this.setState({query:c}),fetch("".concat("https://core-values-web-backend-dev.herokuapp.com","/stats?").concat(c),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({data:t,loaded:!0})}).catch(function(e){console.log("Error applying filters, please try again")})}},{key:"componentWillMount",value:function(){void 0===st.get("login")&&x(),this.applyFilters()}},{key:"render",value:function(){return!1===this.state.loaded?r.a.createElement("div",null,r.a.createElement(_.ProgressBar,null)):"normal"===st.get("login").usertype?r.a.createElement(it.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(_.Row,{className:"reportsHeader"},r.a.createElement(_.Col,{s:12},r.a.createElement("h1",null,"Stats"))),r.a.createElement(_.Row,null,r.a.createElement(_.Col,{s:12,m:3},r.a.createElement(nt,{dataRangeChange:this.dataRangeChange,filterChange:this.filterChange,data:this.state,clearFilters:this.clearFilters,applyFilters:this.applyFilters})),r.a.createElement(_.Col,{s:12,m:9},r.a.createElement(ot,{data:this.state.data,query:this.state.query,applyFilters:this.applyFilters}))))}}]),t}(n.Component),mt=(a(138),new M.a),ut=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(N.a)(t).call(this,e))).state={nominationSuccess:!1,logged:!1},a.formStatus=a.formStatus.bind(Object(w.a)(a)),a.setCookie=a.setCookie.bind(Object(w.a)(a)),a}return Object(C.a)(t,e),Object(b.a)(t,[{key:"formStatus",value:function(e){this.setState({nominationSuccess:e})}},{key:"setCookie",value:function(e){var t=new Date(O()().add(1,"hour").format());mt.set("login",e,{path:"/",expires:t}),this.setState({logged:!0})}},{key:"componentDidMount",value:function(){x()}},{key:"render",value:function(){var e=this,t=this.props.isUserLogged;return r.a.createElement(j.a,{basename:"/core-values-web-app-dev"},r.a.createElement("div",{className:"app"},t?r.a.createElement(ze,null):null,r.a.createElement("div",{id:"content"},r.a.createElement(R.a,null,r.a.createElement(S.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(Ce,{nominationSuccess:e.state.nominationSuccess})}}),r.a.createElement(S.a,{exact:!0,path:"/auth",render:function(t){return r.a.createElement(G,{setCookie:e.setCookie})}}),r.a.createElement(S.a,{exact:!0,path:"/stats",component:ct}),r.a.createElement(S.a,{exact:!0,path:"/nominate",render:function(t){return r.a.createElement(at,{formStatus:e.formStatus})}}),r.a.createElement(S.a,{exact:!0,path:"/help",component:Ce}),r.a.createElement(S.a,{component:dt})))))}}]),t}(n.Component),dt=function(e){var t=e.location;return r.a.createElement("div",null,r.a.createElement("h3",null,r.a.createElement("p",null,"Error 404 ",r.a.createElement("code",null,t.pathname)," Not Found ")))},ht=Object(l.b)(function(e){return{isUserLogged:e.login.isUserLogged}},function(e){return{actions:Object(s.a)(p,e),dispatch:e}})(ut),pt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function gt(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(139);var vt=Object(s.c)(f);i.a.render(r.a.createElement(l.a,{store:vt},r.a.createElement(ht,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("https://cmedinilla.github.io/core-values-web-app-dev",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("https://cmedinilla.github.io/core-values-web-app-dev","/service-worker.js");pt?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):gt(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):gt(e)})}}()}]),[[74,1,2]]]);
//# sourceMappingURL=main.5c6c5dcb.chunk.js.map